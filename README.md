## 概要
三角形メッシュを用いた衝突判定を行うパストレーシングとNEEによるレンダリング。また、それらを多重重点的サンプリングにて組み合わせた手法を提供する。
3Dシーンはobjファイルにて読み込んでいるが、光源、カメラについてはmain.cpp内で記述されている。

## 前提知識
### レンダリングとは
  <p>CG分野におけるレンダリングとは3Dシーン、光源情報、カメラ情報を入力として2D画像を生成する処理のことを指す</p>
  
  ![image](https://github.com/user-attachments/assets/f85ee09c-0a88-4c97-ab05-3b491db1e4d3)
  
### レンダリング方程式
  　レンダリングでは光源から放射された光が、3Dシーン上で反射、屈折し、視点に入射するまでの様子をシミュレーションすることで画像を生成する
   <p align="center">
     $$L_o(x, \omega_o) = L_e(x, \omega_o) + \int_\Omega f_r(x, \omega_i, \omega_o) L_i(x, \omega_i) (\omega_i \cdot n) d\omega_i$$
  </p>


## レンダリング画像
パストレーシングと、多重重点的サンプリングを用いた手法で同一シーンをレンダリングした結果について示す。反射はLambertモデルと、Blinn Phongモデルを使用可能だが、下記の画像はすべてLambert反射を使用したものである。

![パストレーシング](https://github.com/CGLkousei/basic_rendering/assets/147574806/b667192b-2ca9-4ed4-a178-4cca594215a2 "パストレーシングでのレンダリング")

こちらがパストレーシングを使用したレンダリング結果である。

![多重重点的サンプリング](https://github.com/CGLkousei/basic_rendering/assets/147574806/d512c4b3-550c-4279-a4b9-717455fc1353 "多重重点的サンプリングを用いたレンダリング")

こちらはBSDFに従う重点的サンプリングを行うパストレーシングと、光源面に従う重点的サンプリングを行うNEEを多重重点的サンプリングを用いて組み合わせたレンダリング結果である。

## 使用しているライブラリ
* Eigen3
* OpenGL
* OpenCV
* FreeGLUT

## それぞれのプログラムの役割
| クラス名      | 役割                            |
|-----------|-------------------------------|
| Camera    | 入力として得たカメラに関する情報を保持           |
| Color     | RGB値で輝度を管理                    |
| GLPreview | OpenGLで行う初期設定などを管理            |
| Image     | 生成したレンダリング結果を画像出力する           |
| JPEG      | 画像入力等をする際に使用するが、本プログラムでは利用しない |
| Light     | 入力として得た高原に関する情報を保持            |
| random    | モンテカルロ積分で使用する乱数を管理            |
| Renderer  | パストレーシング、NEEといったレンダリング処理を管理   |
| TriMesh   | 入力された3Dシーンを管理                 |
